The worst-case space complexity of this function is O(n) because
new data structures are created and new memory is allocated (by assigning variaables.)